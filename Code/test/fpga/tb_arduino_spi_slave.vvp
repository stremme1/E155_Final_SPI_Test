#! /opt/homebrew/Cellar/icarus-verilog/12.0/bin/vvp
:ivl_version "12.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/system.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_sys.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_textio.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2005_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/va_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2009.vpi";
S_0x1392046a0 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x139204e00 .scope module, "tb_arduino_spi_slave" "tb_arduino_spi_slave" 3 8;
 .timescale -9 -12;
P_0x139205cc0 .param/l "CLK_PERIOD" 0 3 27, +C4<00000000000000000000000101001101>;
P_0x139205d00 .param/l "SCK_PERIOD" 0 3 37, +C4<00000000000000000010011100010000>;
v0x13930c2d0_0 .array/port v0x13930c2d0, 0;
L_0x1393102b0 .functor BUFZ 8, v0x13930c2d0_0, C4<00000000>, C4<00000000>, C4<00000000>;
v0x13930c2d0_1 .array/port v0x13930c2d0, 1;
L_0x139310360 .functor BUFZ 8, v0x13930c2d0_1, C4<00000000>, C4<00000000>, C4<00000000>;
v0x13930c2d0_2 .array/port v0x13930c2d0, 2;
L_0x139310410 .functor BUFZ 8, v0x13930c2d0_2, C4<00000000>, C4<00000000>, C4<00000000>;
L_0x1393104e0 .functor BUFZ 4, v0x13930b1d0_0, C4<0000>, C4<0000>, C4<0000>;
L_0x139310590 .functor BUFZ 3, v0x13930b110_0, C4<000>, C4<000>, C4<000>;
L_0x139310670 .functor BUFZ 8, v0x13930ce30_0, C4<00000000>, C4<00000000>, C4<00000000>;
L_0x1393106e0 .functor BUFZ 8, v0x13930c0e0_0, C4<00000000>, C4<00000000>, C4<00000000>;
L_0x1393107d0 .functor BUFZ 16, v0x13930cd80_0, C4<0000000000000000>, C4<0000000000000000>, C4<0000000000000000>;
L_0x139310860 .functor BUFZ 16, v0x13930c870_0, C4<0000000000000000>, C4<0000000000000000>, C4<0000000000000000>;
L_0x139310960 .functor BUFZ 16, v0x13930d020_0, C4<0000000000000000>, C4<0000000000000000>, C4<0000000000000000>;
L_0x1393109f0 .functor BUFZ 1, v0x13930b4b0_0, C4<0>, C4<0>, C4<0>;
L_0x139310ae0 .functor BUFZ 1, v0x13930c7d0_0, C4<0>, C4<0>, C4<0>;
L_0x139310b50 .functor BUFZ 1, v0x13930c690_0, C4<0>, C4<0>, C4<0>;
L_0x139310c50 .functor BUFZ 1, v0x13930c730_0, C4<0>, C4<0>, C4<0>;
L_0x139310ce0 .functor BUFZ 1, v0x13930c230_0, C4<0>, C4<0>, C4<0>;
v0x13930c470_0 .array/port v0x13930c470, 0;
L_0x139310be0 .functor BUFZ 8, v0x13930c470_0, C4<00000000>, C4<00000000>, C4<00000000>;
L_0x139310e10 .functor BUFZ 2, v0x13930b400_0, C4<00>, C4<00>, C4<00>;
L_0x139310f50 .functor BUFZ 1, v0x13930b830_0, C4<0>, C4<0>, C4<0>;
L_0x139310fe0 .functor BUFZ 1, L_0x1393101c0, C4<0>, C4<0>, C4<0>;
v0x13930e4c0_0 .net "bit_count", 2 0, L_0x139310590;  1 drivers
v0x13930e570_0 .net "byte_count", 3 0, L_0x1393104e0;  1 drivers
v0x13930e610_0 .var "clk", 0 0;
v0x13930e6e0_0 .net "cs_high_counter", 1 0, L_0x139310e10;  1 drivers
v0x13930e770_0 .net "cs_high_stable", 0 0, L_0x1393109f0;  1 drivers
v0x13930e840_0 .var "cs_n", 0 0;
v0x13930e8d0_0 .net "cs_n_sync_clk2", 0 0, L_0x139310f50;  1 drivers
v0x13930e960_0 .net "cs_rising_edge_clk", 0 0, L_0x139310fe0;  1 drivers
v0x13930ea00_0 .net "error", 0 0, v0x13930ba10_0;  1 drivers
v0x13930eb30_0 .var/i "fail_count", 31 0;
v0x13930ebc0_0 .net "gyro1_valid", 0 0, v0x13930bc40_0;  1 drivers
v0x13930ec50_0 .net/s "gyro1_x", 15 0, v0x13930bcd0_0;  1 drivers
v0x13930ed00_0 .net/s "gyro1_y", 15 0, v0x13930bd70_0;  1 drivers
v0x13930edb0_0 .net/s "gyro1_z", 15 0, v0x13930be20_0;  1 drivers
v0x13930ee60_0 .net "header", 7 0, L_0x1393106e0;  1 drivers
v0x13930eef0_0 .net "initialized", 0 0, v0x13930c190_0;  1 drivers
v0x13930efa0_0 .net "new_packet_available", 0 0, L_0x139310ce0;  1 drivers
v0x13930f130_0 .net "packet_buffer_0", 7 0, L_0x1393102b0;  1 drivers
v0x13930f1e0_0 .net "packet_buffer_1", 7 0, L_0x139310360;  1 drivers
v0x13930f290_0 .net "packet_buffer_2", 7 0, L_0x139310410;  1 drivers
v0x13930f340_0 .net "packet_snapshot_0", 7 0, L_0x139310be0;  1 drivers
v0x13930f3f0_0 .net "packet_valid", 0 0, L_0x139310b50;  1 drivers
v0x13930f490_0 .net "packet_valid_delayed", 0 0, L_0x139310c50;  1 drivers
v0x13930f530_0 .net "packet_valid_raw", 0 0, L_0x139310ae0;  1 drivers
v0x13930f5d0_0 .var/i "pass_count", 31 0;
v0x13930f680_0 .net/s "pitch", 15 0, L_0x139310860;  1 drivers
v0x13930f730_0 .net "quat1_valid", 0 0, v0x13930bb60_0;  1 drivers
v0x13930f7e0_0 .net/s "quat1_w", 15 0, v0x13930cb00_0;  1 drivers
v0x13930f870_0 .net/s "quat1_x", 15 0, v0x13930cb90_0;  1 drivers
v0x13930f900_0 .net/s "quat1_y", 15 0, v0x13930cc20_0;  1 drivers
v0x13930f990_0 .net/s "quat1_z", 15 0, v0x13930ccd0_0;  1 drivers
v0x13930fa20_0 .net/s "roll", 15 0, L_0x1393107d0;  1 drivers
v0x13930fac0_0 .net "rx_shift", 7 0, L_0x139310670;  1 drivers
v0x13930f050_0 .var "sck", 0 0;
v0x13930fd50_0 .var "sdi", 0 0;
v0x13930fde0_0 .var/i "test_count", 31 0;
v0x13930fe70_0 .net/s "yaw", 15 0, L_0x139310960;  1 drivers
S_0x139205e40 .scope task, "check_test" "check_test" 3 89, 3 89 0, S_0x139204e00;
 .timescale -9 -12;
v0x139205fb0_0 .var "condition", 0 0;
v0x139120530_0 .var/str "test_name";
TD_tb_arduino_spi_slave.check_test ;
    %load/vec4 v0x13930fde0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x13930fde0_0, 0, 32;
    %load/vec4 v0x139205fb0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_0.0, 8;
    %vpi_call/w 3 92 "$display", "[PASS] %s", v0x139120530_0 {0 0 0};
    %load/vec4 v0x13930f5d0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x13930f5d0_0, 0, 32;
    %jmp T_0.1;
T_0.0 ;
    %vpi_call/w 3 95 "$display", "[FAIL] %s", v0x139120530_0 {0 0 0};
    %load/vec4 v0x13930eb30_0;
    %addi 1, 0, 32;
    %store/vec4 v0x13930eb30_0, 0, 32;
T_0.1 ;
    %end;
S_0x1391205e0 .scope module, "dut" "arduino_spi_slave" 3 43, 4 17 0, S_0x139204e00;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "cs_n";
    .port_info 2 /INPUT 1 "sck";
    .port_info 3 /INPUT 1 "sdi";
    .port_info 4 /OUTPUT 1 "initialized";
    .port_info 5 /OUTPUT 1 "error";
    .port_info 6 /OUTPUT 1 "quat1_valid";
    .port_info 7 /OUTPUT 16 "quat1_w";
    .port_info 8 /OUTPUT 16 "quat1_x";
    .port_info 9 /OUTPUT 16 "quat1_y";
    .port_info 10 /OUTPUT 16 "quat1_z";
    .port_info 11 /OUTPUT 1 "gyro1_valid";
    .port_info 12 /OUTPUT 16 "gyro1_x";
    .port_info 13 /OUTPUT 16 "gyro1_y";
    .port_info 14 /OUTPUT 16 "gyro1_z";
P_0x1391207b0 .param/l "HEADER_BYTE" 1 4 33, C4<10101010>;
P_0x1391207f0 .param/l "PACKET_SIZE" 1 4 32, +C4<00000000000000000000000000010000>;
L_0x13930fff0 .functor AND 1, v0x13930b6f0_0, L_0x13930ff10, C4<1>, C4<1>;
L_0x1393101c0 .functor AND 1, L_0x139310100, v0x13930b830_0, C4<1>, C4<1>;
v0x13930afd0_0 .net *"_ivl_1", 0 0, L_0x13930ff10;  1 drivers
v0x13930b070_0 .net *"_ivl_5", 0 0, L_0x139310100;  1 drivers
v0x13930b110_0 .var "bit_count", 2 0;
v0x13930b1d0_0 .var "byte_count", 3 0;
v0x13930b280_0 .net "clk", 0 0, v0x13930e610_0;  1 drivers
v0x13930b360_0 .net "cs_falling_edge_sck", 0 0, L_0x13930fff0;  1 drivers
v0x13930b400_0 .var "cs_high_counter", 1 0;
v0x13930b4b0_0 .var "cs_high_stable", 0 0;
v0x13930b550_0 .net "cs_n", 0 0, v0x13930e840_0;  1 drivers
v0x13930b660_0 .var "cs_n_prev_clk", 0 0;
v0x13930b6f0_0 .var "cs_n_prev_sck", 0 0;
v0x13930b790_0 .var "cs_n_sync_clk1", 0 0;
v0x13930b830_0 .var "cs_n_sync_clk2", 0 0;
v0x13930b8d0_0 .var "cs_n_sync_sck", 0 0;
v0x13930b970_0 .net "cs_rising_edge_clk", 0 0, L_0x1393101c0;  1 drivers
v0x13930ba10_0 .var "error", 0 0;
v0x13930bab0_0 .var "flags", 7 0;
v0x13930bc40_0 .var "gyro1_valid", 0 0;
v0x13930bcd0_0 .var/s "gyro1_x", 15 0;
v0x13930bd70_0 .var/s "gyro1_y", 15 0;
v0x13930be20_0 .var/s "gyro1_z", 15 0;
v0x13930bed0_0 .var/s "gyro_x", 15 0;
v0x13930bf80_0 .var/s "gyro_y", 15 0;
v0x13930c030_0 .var/s "gyro_z", 15 0;
v0x13930c0e0_0 .var "header", 7 0;
v0x13930c190_0 .var "initialized", 0 0;
v0x13930c230_0 .var "new_packet_available", 0 0;
v0x13930c2d0 .array "packet_buffer", 15 0, 7 0;
v0x13930c470 .array "packet_snapshot", 15 0, 7 0;
v0x13930c690_0 .var "packet_valid", 0 0;
v0x13930c730_0 .var "packet_valid_delayed", 0 0;
v0x13930c7d0_0 .var "packet_valid_raw", 0 0;
v0x13930c870_0 .var/s "pitch", 15 0;
v0x13930bb60_0 .var "quat1_valid", 0 0;
v0x13930cb00_0 .var/s "quat1_w", 15 0;
v0x13930cb90_0 .var/s "quat1_x", 15 0;
v0x13930cc20_0 .var/s "quat1_y", 15 0;
v0x13930ccd0_0 .var/s "quat1_z", 15 0;
v0x13930cd80_0 .var/s "roll", 15 0;
v0x13930ce30_0 .var "rx_shift", 7 0;
v0x13930cee0_0 .net "sck", 0 0, v0x13930f050_0;  1 drivers
v0x13930cf80_0 .net "sdi", 0 0, v0x13930fd50_0;  1 drivers
v0x13930d020_0 .var/s "yaw", 15 0;
E_0x13930ad80 .event posedge, v0x13930b280_0;
E_0x13930adc0 .event posedge, v0x13930b550_0, v0x13930cee0_0;
E_0x13930af90 .event negedge, v0x13930cee0_0;
L_0x13930ff10 .reduce/nor v0x13930b8d0_0;
L_0x139310100 .reduce/nor v0x13930b660_0;
S_0x13930d240 .scope task, "send_packet_inline" "send_packet_inline" 3 130, 3 130 0, S_0x139204e00;
 .timescale -9 -12;
v0x13930d420_0 .var "b0", 7 0;
v0x13930d4e0_0 .var "b1", 7 0;
v0x13930d580_0 .var "b10", 7 0;
v0x13930d610_0 .var "b11", 7 0;
v0x13930d6a0_0 .var "b12", 7 0;
v0x13930d770_0 .var "b13", 7 0;
v0x13930d820_0 .var "b14", 7 0;
v0x13930d8d0_0 .var "b15", 7 0;
v0x13930d980_0 .var "b2", 7 0;
v0x13930da90_0 .var "b3", 7 0;
v0x13930db40_0 .var "b4", 7 0;
v0x13930dbf0_0 .var "b5", 7 0;
v0x13930dca0_0 .var "b6", 7 0;
v0x13930dd50_0 .var "b7", 7 0;
v0x13930de00_0 .var "b8", 7 0;
v0x13930deb0_0 .var "b9", 7 0;
TD_tb_arduino_spi_slave.send_packet_inline ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13930e840_0, 0, 1;
    %delay 30000000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13930e840_0, 0, 1;
    %delay 20000000, 0;
    %load/vec4 v0x13930d420_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930d4e0_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930d980_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930da90_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930db40_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930dbf0_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930dca0_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930dd50_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930de00_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930deb0_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930d580_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930d610_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930d6a0_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930d770_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930d820_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %load/vec4 v0x13930d8d0_0;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %delay 10000000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13930e840_0, 0, 1;
    %delay 30000000, 0;
    %end;
S_0x13930df60 .scope task, "send_spi_byte" "send_spi_byte" 3 113, 3 113 0, S_0x139204e00;
 .timescale -9 -12;
v0x13930e120_0 .var "data", 7 0;
v0x13930e1e0_0 .var/i "i", 31 0;
TD_tb_arduino_spi_slave.send_spi_byte ;
    %vpi_call/w 3 115 "$display", "    [SPI] Sending byte: 0x%02X (binary: %b)", v0x13930e120_0, v0x13930e120_0 {0 0 0};
    %pushi/vec4 7, 0, 32;
    %store/vec4 v0x13930e1e0_0, 0, 32;
T_2.2 ;
    %load/vec4 v0x13930e1e0_0;
    %cmpi/s 0, 0, 32;
    %flag_inv 5; GE is !LT
    %jmp/0xz T_2.3, 5;
    %load/vec4 v0x13930e120_0;
    %load/vec4 v0x13930e1e0_0;
    %part/s 1;
    %store/vec4 v0x13930fd50_0, 0, 1;
    %delay 2500000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13930f050_0, 0, 1;
    %delay 2500000, 0;
    %delay 5000000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13930f050_0, 0, 1;
    %load/vec4 v0x13930e1e0_0;
    %subi 1, 0, 32;
    %store/vec4 v0x13930e1e0_0, 0, 32;
    %jmp T_2.2;
T_2.3 ;
    %vpi_call/w 3 126 "$display", "    [SPI] Byte sent: 0x%02X", v0x13930e120_0 {0 0 0};
    %end;
S_0x13930e280 .scope task, "wait_cdc" "wait_cdc" 3 103, 3 103 0, S_0x139204e00;
 .timescale -9 -12;
E_0x13930e480 .event anyedge, v0x13930b550_0;
TD_tb_arduino_spi_slave.wait_cdc ;
T_3.4 ;
    %load/vec4 v0x13930e840_0;
    %pushi/vec4 1, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz T_3.5, 6;
    %wait E_0x13930e480;
    %jmp T_3.4;
T_3.5 ;
    %pushi/vec4 50, 0, 32;
T_3.6 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_3.7, 5;
    %jmp/1 T_3.7, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x13930ad80;
    %jmp T_3.6;
T_3.7 ;
    %pop/vec4 1;
    %end;
    .scope S_0x1391205e0;
T_4 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13930b8d0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13930b6f0_0, 0, 1;
    %end;
    .thread T_4, $init;
    .scope S_0x1391205e0;
T_5 ;
    %wait E_0x13930af90;
    %load/vec4 v0x13930b550_0;
    %assign/vec4 v0x13930b8d0_0, 0;
    %load/vec4 v0x13930b8d0_0;
    %assign/vec4 v0x13930b6f0_0, 0;
    %jmp T_5;
    .thread T_5;
    .scope S_0x1391205e0;
T_6 ;
    %wait E_0x13930adc0;
    %load/vec4 v0x13930b550_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.0, 8;
    %pushi/vec4 0, 0, 4;
    %assign/vec4 v0x13930b1d0_0, 0;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x13930b110_0, 0;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x13930ce30_0, 0;
    %jmp T_6.1;
T_6.0 ;
    %load/vec4 v0x13930b110_0;
    %cmpi/e 7, 0, 3;
    %jmp/0xz  T_6.2, 4;
    %load/vec4 v0x13930ce30_0;
    %parti/s 7, 0, 2;
    %load/vec4 v0x13930cf80_0;
    %concat/vec4; draw_concat_vec4
    %load/vec4 v0x13930b1d0_0;
    %pad/u 6;
    %ix/vec4 3;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c2d0, 0, 4;
    %load/vec4 v0x13930b1d0_0;
    %addi 1, 0, 4;
    %assign/vec4 v0x13930b1d0_0, 0;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x13930b110_0, 0;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x13930ce30_0, 0;
    %jmp T_6.3;
T_6.2 ;
    %load/vec4 v0x13930ce30_0;
    %parti/s 7, 0, 2;
    %load/vec4 v0x13930cf80_0;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x13930ce30_0, 0;
    %load/vec4 v0x13930b110_0;
    %addi 1, 0, 3;
    %assign/vec4 v0x13930b110_0, 0;
T_6.3 ;
T_6.1 ;
    %jmp T_6;
    .thread T_6;
    .scope S_0x1391205e0;
T_7 ;
    %wait E_0x13930ad80;
    %load/vec4 v0x13930b550_0;
    %assign/vec4 v0x13930b790_0, 0;
    %load/vec4 v0x13930b790_0;
    %assign/vec4 v0x13930b830_0, 0;
    %load/vec4 v0x13930b830_0;
    %assign/vec4 v0x13930b660_0, 0;
    %jmp T_7;
    .thread T_7;
    .scope S_0x1391205e0;
T_8 ;
    %wait E_0x13930ad80;
    %load/vec4 v0x13930b830_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.0, 8;
    %load/vec4 v0x13930b400_0;
    %cmpi/u 3, 0, 2;
    %jmp/0xz  T_8.2, 5;
    %load/vec4 v0x13930b400_0;
    %addi 1, 0, 2;
    %assign/vec4 v0x13930b400_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x13930b4b0_0, 0;
    %jmp T_8.3;
T_8.2 ;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x13930b4b0_0, 0;
T_8.3 ;
    %jmp T_8.1;
T_8.0 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x13930b4b0_0, 0;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x13930b400_0, 0;
T_8.1 ;
    %jmp T_8;
    .thread T_8;
    .scope S_0x1391205e0;
T_9 ;
    %wait E_0x13930ad80;
    %load/vec4 v0x13930b4b0_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_9.2, 9;
    %load/vec4 v0x13930c7d0_0;
    %nor/r;
    %and;
T_9.2;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.0, 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 2, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 3, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 4, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 5, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 5, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 6, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 6, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 7, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 7, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 8, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 9, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 9, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 10, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 10, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 11, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 11, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 12, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 12, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 13, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 13, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 14, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 14, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %ix/load 4, 15, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c2d0, 4;
    %ix/load 3, 15, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x13930c470, 0, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x13930c7d0_0, 0;
    %jmp T_9.1;
T_9.0 ;
    %load/vec4 v0x13930b4b0_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.3, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x13930c7d0_0, 0;
T_9.3 ;
T_9.1 ;
    %jmp T_9;
    .thread T_9;
    .scope S_0x1391205e0;
T_10 ;
    %wait E_0x13930ad80;
    %load/vec4 v0x13930c7d0_0;
    %assign/vec4 v0x13930c690_0, 0;
    %jmp T_10;
    .thread T_10;
    .scope S_0x1391205e0;
T_11 ;
    %wait E_0x13930ad80;
    %load/vec4 v0x13930c690_0;
    %assign/vec4 v0x13930c730_0, 0;
    %load/vec4 v0x13930c690_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.0, 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %assign/vec4 v0x13930c0e0_0, 0;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x13930cd80_0, 0;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x13930c870_0, 0;
    %ix/load 4, 5, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %ix/load 4, 6, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x13930d020_0, 0;
    %ix/load 4, 7, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %ix/load 4, 8, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x13930bed0_0, 0;
    %ix/load 4, 9, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %ix/load 4, 10, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x13930bf80_0, 0;
    %ix/load 4, 11, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %ix/load 4, 12, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x13930c030_0, 0;
    %ix/load 4, 13, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x13930c470, 4;
    %assign/vec4 v0x13930bab0_0, 0;
T_11.0 ;
    %load/vec4 v0x13930c730_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.2, 8;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x13930c230_0, 0;
    %jmp T_11.3;
T_11.2 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x13930c230_0, 0;
T_11.3 ;
    %jmp T_11;
    .thread T_11;
    .scope S_0x1391205e0;
T_12 ;
    %wait E_0x13930ad80;
    %load/vec4 v0x13930c230_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.0, 8;
    %load/vec4 v0x13930c0e0_0;
    %cmpi/e 170, 0, 8;
    %jmp/0xz  T_12.2, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x13930c190_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x13930ba10_0, 0;
    %jmp T_12.3;
T_12.2 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x13930c190_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x13930ba10_0, 0;
T_12.3 ;
T_12.0 ;
    %jmp T_12;
    .thread T_12;
    .scope S_0x1391205e0;
T_13 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13930c190_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13930ba10_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13930bb60_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13930bc40_0, 0, 1;
    %pushi/vec4 0, 0, 16;
    %store/vec4 v0x13930cb00_0, 0, 16;
    %pushi/vec4 0, 0, 16;
    %store/vec4 v0x13930cb90_0, 0, 16;
    %pushi/vec4 0, 0, 16;
    %store/vec4 v0x13930cc20_0, 0, 16;
    %pushi/vec4 0, 0, 16;
    %store/vec4 v0x13930ccd0_0, 0, 16;
    %pushi/vec4 0, 0, 16;
    %store/vec4 v0x13930bcd0_0, 0, 16;
    %pushi/vec4 0, 0, 16;
    %store/vec4 v0x13930bd70_0, 0, 16;
    %pushi/vec4 0, 0, 16;
    %store/vec4 v0x13930be20_0, 0, 16;
    %end;
    .thread T_13;
    .scope S_0x1391205e0;
T_14 ;
    %wait E_0x13930ad80;
    %load/vec4 v0x13930c230_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_14.2, 9;
    %load/vec4 v0x13930c0e0_0;
    %pushi/vec4 170, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %and;
T_14.2;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.0, 8;
    %pushi/vec4 16384, 0, 16;
    %assign/vec4 v0x13930cb00_0, 0;
    %load/vec4 v0x13930cd80_0;
    %assign/vec4 v0x13930cb90_0, 0;
    %load/vec4 v0x13930c870_0;
    %assign/vec4 v0x13930cc20_0, 0;
    %load/vec4 v0x13930d020_0;
    %assign/vec4 v0x13930ccd0_0, 0;
    %load/vec4 v0x13930bed0_0;
    %assign/vec4 v0x13930bcd0_0, 0;
    %load/vec4 v0x13930bf80_0;
    %assign/vec4 v0x13930bd70_0, 0;
    %load/vec4 v0x13930c030_0;
    %assign/vec4 v0x13930be20_0, 0;
    %load/vec4 v0x13930bab0_0;
    %parti/s 1, 0, 2;
    %assign/vec4 v0x13930bb60_0, 0;
    %load/vec4 v0x13930bab0_0;
    %parti/s 1, 1, 2;
    %assign/vec4 v0x13930bc40_0, 0;
T_14.0 ;
    %jmp T_14;
    .thread T_14;
    .scope S_0x139204e00;
T_15 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x13930fde0_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x13930f5d0_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x13930eb30_0, 0, 32;
    %end;
    .thread T_15, $init;
    .scope S_0x139204e00;
T_16 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13930e610_0, 0, 1;
    %delay 166000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13930e610_0, 0, 1;
    %delay 166000, 0;
    %jmp T_16;
    .thread T_16;
    .scope S_0x139204e00;
T_17 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13930f050_0, 0, 1;
    %end;
    .thread T_17;
    .scope S_0x139204e00;
T_18 ;
    %vpi_call/w 3 164 "$dumpfile", "tb_arduino_spi_slave.vcd" {0 0 0};
    %vpi_call/w 3 165 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x139204e00 {0 0 0};
    %vpi_call/w 3 167 "$display", "========================================" {0 0 0};
    %vpi_call/w 3 168 "$display", "Arduino SPI Slave Testbench" {0 0 0};
    %vpi_call/w 3 169 "$display", "========================================" {0 0 0};
    %vpi_call/w 3 170 "$display", "\000" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13930e840_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13930f050_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13930fd50_0, 0, 1;
    %delay 3330000, 0;
    %vpi_call/w 3 182 "$display", "=== Test 0: Bit Shifting Verification ===" {0 0 0};
    %vpi_call/w 3 186 "$display", "Test 0.1: Sending 0xAA to verify bit shifting" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13930e840_0, 0, 1;
    %delay 30000000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13930e840_0, 0, 1;
    %delay 20000000, 0;
    %pushi/vec4 170, 0, 8;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %delay 10000000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13930e840_0, 0, 1;
    %delay 30000000, 0;
T_18.0 ;
    %load/vec4 v0x13930e840_0;
    %pushi/vec4 1, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz T_18.1, 6;
    %wait E_0x13930e480;
    %jmp T_18.0;
T_18.1 ;
    %pushi/vec4 20, 0, 32;
T_18.2 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_18.3, 5;
    %jmp/1 T_18.3, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x13930ad80;
    %jmp T_18.2;
T_18.3 ;
    %pop/vec4 1;
    %vpi_call/w 3 204 "$display", "    packet_buffer[0] = 0x%02X (expected 0xAA)", v0x13930f130_0 {0 0 0};
    %pushi/str "Test 0.1: Byte 0xAA received correctly";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f130_0;
    %pushi/vec4 170, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %vpi_call/w 3 206 "$display", "    Expected: First bit=1 (MSB), Last bit=0 (LSB)" {0 0 0};
    %vpi_call/w 3 207 "$display", "    Pattern: 1-0-1-0-1-0-1-0" {0 0 0};
    %vpi_call/w 3 212 "$display", "Test 0.2: Sending 0x55 to verify bit shifting" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13930e840_0, 0, 1;
    %delay 30000000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x13930e840_0, 0, 1;
    %delay 20000000, 0;
    %pushi/vec4 85, 0, 8;
    %store/vec4 v0x13930e120_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_spi_byte, S_0x13930df60;
    %join;
    %delay 10000000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x13930e840_0, 0, 1;
    %delay 30000000, 0;
T_18.4 ;
    %load/vec4 v0x13930e840_0;
    %pushi/vec4 1, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz T_18.5, 6;
    %wait E_0x13930e480;
    %jmp T_18.4;
T_18.5 ;
    %pushi/vec4 20, 0, 32;
T_18.6 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_18.7, 5;
    %jmp/1 T_18.7, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x13930ad80;
    %jmp T_18.6;
T_18.7 ;
    %pop/vec4 1;
    %vpi_call/w 3 229 "$display", "    packet_buffer[0] = 0x%02X (expected 0x55)", v0x13930f130_0 {0 0 0};
    %pushi/str "Test 0.2: Byte 0x55 received correctly";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f130_0;
    %pushi/vec4 85, 0, 8;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %vpi_call/w 3 231 "$display", "    Expected: First bit=0 (MSB), Last bit=1 (LSB)" {0 0 0};
    %vpi_call/w 3 232 "$display", "    Pattern: 0-1-0-1-0-1-0-1" {0 0 0};
    %vpi_call/w 3 235 "$display", "\000" {0 0 0};
    %vpi_call/w 3 240 "$display", "=== Test 1: Valid Packet Reception ===" {0 0 0};
    %vpi_call/w 3 244 "$display", "Test 1.1: Sending valid packet with header 0xAA" {0 0 0};
    %pushi/vec4 170, 0, 8;
    %store/vec4 v0x13930d420_0, 0, 8;
    %pushi/vec4 3, 0, 8;
    %store/vec4 v0x13930d4e0_0, 0, 8;
    %pushi/vec4 232, 0, 8;
    %store/vec4 v0x13930d980_0, 0, 8;
    %pushi/vec4 254, 0, 8;
    %store/vec4 v0x13930da90_0, 0, 8;
    %pushi/vec4 12, 0, 8;
    %store/vec4 v0x13930db40_0, 0, 8;
    %pushi/vec4 7, 0, 8;
    %store/vec4 v0x13930dbf0_0, 0, 8;
    %pushi/vec4 208, 0, 8;
    %store/vec4 v0x13930dca0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dd50_0, 0, 8;
    %pushi/vec4 100, 0, 8;
    %store/vec4 v0x13930de00_0, 0, 8;
    %pushi/vec4 255, 0, 8;
    %store/vec4 v0x13930deb0_0, 0, 8;
    %pushi/vec4 56, 0, 8;
    %store/vec4 v0x13930d580_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d610_0, 0, 8;
    %pushi/vec4 50, 0, 8;
    %store/vec4 v0x13930d6a0_0, 0, 8;
    %pushi/vec4 3, 0, 8;
    %store/vec4 v0x13930d770_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d820_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d8d0_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_packet_inline, S_0x13930d240;
    %join;
T_18.8 ;
    %load/vec4 v0x13930e840_0;
    %pushi/vec4 1, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz T_18.9, 6;
    %wait E_0x13930e480;
    %jmp T_18.8;
T_18.9 ;
    %pushi/vec4 50, 0, 32;
T_18.10 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_18.11, 5;
    %jmp/1 T_18.11, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x13930ad80;
    %jmp T_18.10;
T_18.11 ;
    %pop/vec4 1;
    %vpi_call/w 3 271 "$display", "    Internal signals after packet reception:" {0 0 0};
    %vpi_call/w 3 272 "$display", "      packet_buffer[0] = 0x%02X (header, expected 0xAA)", v0x13930f130_0 {0 0 0};
    %vpi_call/w 3 273 "$display", "      packet_buffer[1] = 0x%02X (Roll MSB, expected 0x03)", v0x13930f1e0_0 {0 0 0};
    %vpi_call/w 3 274 "$display", "      packet_buffer[2] = 0x%02X (Roll LSB, expected 0xE8)", v0x13930f290_0 {0 0 0};
    %vpi_call/w 3 275 "$display", "      CDC: cs_n=%b, cs_n_sync_clk2=%b, cs_rising_edge_clk=%b, cs_high_counter=%d, cs_high_stable=%b", v0x13930e840_0, v0x13930e8d0_0, v0x13930e960_0, v0x13930e6e0_0, v0x13930e770_0 {0 0 0};
    %vpi_call/w 3 277 "$display", "      CDC: packet_valid_raw=%b, packet_valid=%b, packet_valid_delayed=%b, new_packet_available=%b", v0x13930f530_0, v0x13930f3f0_0, v0x13930f490_0, v0x13930efa0_0 {0 0 0};
    %vpi_call/w 3 279 "$display", "      packet_snapshot[0] = 0x%02X (should match packet_buffer[0])", v0x13930f340_0 {0 0 0};
    %vpi_call/w 3 280 "$display", "      header = 0x%02X, roll = 0x%04X (%0d)", v0x13930ee60_0, v0x13930fa20_0, v0x13930fa20_0 {0 0 0};
    %vpi_call/w 3 281 "$display", "      pitch = 0x%04X (%0d), yaw = 0x%04X (%0d)", v0x13930f680_0, v0x13930f680_0, v0x13930fe70_0, v0x13930fe70_0 {0 0 0};
    %vpi_call/w 3 284 "$display", "    Output signals after packet reception:" {0 0 0};
    %vpi_call/w 3 285 "$display", "      initialized = %b, error = %b", v0x13930eef0_0, v0x13930ea00_0 {0 0 0};
    %vpi_call/w 3 286 "$display", "      quat1_w = 0x%04X (%0d), quat1_x = 0x%04X (%0d)", v0x13930f7e0_0, v0x13930f7e0_0, v0x13930f870_0, v0x13930f870_0 {0 0 0};
    %vpi_call/w 3 287 "$display", "      quat1_y = 0x%04X (%0d), quat1_z = 0x%04X (%0d)", v0x13930f900_0, v0x13930f900_0, v0x13930f990_0, v0x13930f990_0 {0 0 0};
    %vpi_call/w 3 288 "$display", "      gyro1_x = 0x%04X (%0d), gyro1_y = 0x%04X (%0d), gyro1_z = 0x%04X (%0d)", v0x13930ec50_0, v0x13930ec50_0, v0x13930ed00_0, v0x13930ed00_0, v0x13930edb0_0, v0x13930edb0_0 {0 0 0};
    %vpi_call/w 3 290 "$display", "      quat1_valid = %b, gyro1_valid = %b", v0x13930f730_0, v0x13930ebc0_0 {0 0 0};
    %pushi/str "Test 1.1a: Header valid \342\206\222 initialized = 1";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930eef0_0;
    %pushi/vec4 1, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 1.1b: Header valid \342\206\222 error = 0";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930ea00_0;
    %pushi/vec4 0, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 1.1c: Quat W = 16384 (Q14 format)";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f7e0_0;
    %pushi/vec4 16384, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 1.1d: Quat X = Roll (1000)";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f870_0;
    %pushi/vec4 1000, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 1.1e: Quat Y = Pitch (-500)";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f900_0;
    %pushi/vec4 65036, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 1.1f: Quat Z = Yaw (2000)";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f990_0;
    %pushi/vec4 2000, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 1.1g: Gyro X = 100";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930ec50_0;
    %pushi/vec4 100, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 1.1h: Gyro Y = -200";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930ed00_0;
    %pushi/vec4 65336, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 1.1i: Gyro Z = 50";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930edb0_0;
    %pushi/vec4 50, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 1.1j: Quat valid = 1 (from flags[0])";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f730_0;
    %pushi/vec4 1, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 1.1k: Gyro valid = 1 (from flags[1])";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930ebc0_0;
    %pushi/vec4 1, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %vpi_call/w 3 306 "$display", "\000" {0 0 0};
    %vpi_call/w 3 311 "$display", "=== Test 2: Invalid Header Detection ===" {0 0 0};
    %pushi/vec4 85, 0, 8;
    %store/vec4 v0x13930d420_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d4e0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d980_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930da90_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930db40_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dbf0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dca0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dd50_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930de00_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930deb0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d580_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d610_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d6a0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d770_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d820_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d8d0_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_packet_inline, S_0x13930d240;
    %join;
    %fork TD_tb_arduino_spi_slave.wait_cdc, S_0x13930e280;
    %join;
    %pushi/str "Test 2.1a: Invalid header \342\206\222 initialized = 0";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930eef0_0;
    %pushi/vec4 0, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 2.1b: Invalid header \342\206\222 error = 1";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930ea00_0;
    %pushi/vec4 1, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/vec4 170, 0, 8;
    %store/vec4 v0x13930d420_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d4e0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d980_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930da90_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930db40_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dbf0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dca0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dd50_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930de00_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930deb0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d580_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d610_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d6a0_0, 0, 8;
    %pushi/vec4 3, 0, 8;
    %store/vec4 v0x13930d770_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d820_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d8d0_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_packet_inline, S_0x13930d240;
    %join;
    %fork TD_tb_arduino_spi_slave.wait_cdc, S_0x13930e280;
    %join;
    %pushi/str "Test 2.2a: Valid header restores initialized = 1";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930eef0_0;
    %pushi/vec4 1, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 2.2b: Valid header clears error = 0";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930ea00_0;
    %pushi/vec4 0, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %vpi_call/w 3 343 "$display", "\000" {0 0 0};
    %vpi_call/w 3 348 "$display", "=== Test 3: Flag Mapping ===" {0 0 0};
    %pushi/vec4 170, 0, 8;
    %store/vec4 v0x13930d420_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d4e0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d980_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930da90_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930db40_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dbf0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dca0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dd50_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930de00_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930deb0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d580_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d610_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d6a0_0, 0, 8;
    %pushi/vec4 1, 0, 8;
    %store/vec4 v0x13930d770_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d820_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d8d0_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_packet_inline, S_0x13930d240;
    %join;
    %fork TD_tb_arduino_spi_slave.wait_cdc, S_0x13930e280;
    %join;
    %pushi/str "Test 3.1a: Flag 0x01 \342\206\222 quat_valid = 1";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f730_0;
    %pushi/vec4 1, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 3.1b: Flag 0x01 \342\206\222 gyro_valid = 0";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930ebc0_0;
    %pushi/vec4 0, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/vec4 170, 0, 8;
    %store/vec4 v0x13930d420_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d4e0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d980_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930da90_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930db40_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dbf0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dca0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dd50_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930de00_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930deb0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d580_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d610_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d6a0_0, 0, 8;
    %pushi/vec4 2, 0, 8;
    %store/vec4 v0x13930d770_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d820_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d8d0_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_packet_inline, S_0x13930d240;
    %join;
    %fork TD_tb_arduino_spi_slave.wait_cdc, S_0x13930e280;
    %join;
    %pushi/str "Test 3.2a: Flag 0x02 \342\206\222 quat_valid = 0";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f730_0;
    %pushi/vec4 0, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 3.2b: Flag 0x02 \342\206\222 gyro_valid = 1";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930ebc0_0;
    %pushi/vec4 1, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/vec4 170, 0, 8;
    %store/vec4 v0x13930d420_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d4e0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d980_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930da90_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930db40_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dbf0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dca0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dd50_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930de00_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930deb0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d580_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d610_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d6a0_0, 0, 8;
    %pushi/vec4 3, 0, 8;
    %store/vec4 v0x13930d770_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d820_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d8d0_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_packet_inline, S_0x13930d240;
    %join;
    %fork TD_tb_arduino_spi_slave.wait_cdc, S_0x13930e280;
    %join;
    %pushi/str "Test 3.3a: Flag 0x03 \342\206\222 quat_valid = 1";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f730_0;
    %pushi/vec4 1, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 3.3b: Flag 0x03 \342\206\222 gyro_valid = 1";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930ebc0_0;
    %pushi/vec4 1, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/vec4 170, 0, 8;
    %store/vec4 v0x13930d420_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d4e0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d980_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930da90_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930db40_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dbf0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dca0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dd50_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930de00_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930deb0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d580_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d610_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d6a0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d770_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d820_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d8d0_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_packet_inline, S_0x13930d240;
    %join;
    %fork TD_tb_arduino_spi_slave.wait_cdc, S_0x13930e280;
    %join;
    %pushi/str "Test 3.4a: Flag 0x00 \342\206\222 quat_valid = 0";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f730_0;
    %pushi/vec4 0, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 3.4b: Flag 0x00 \342\206\222 gyro_valid = 0";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930ebc0_0;
    %pushi/vec4 0, 0, 1;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %vpi_call/w 3 410 "$display", "\000" {0 0 0};
    %vpi_call/w 3 415 "$display", "=== Test 4: Edge Cases ===" {0 0 0};
    %pushi/vec4 170, 0, 8;
    %store/vec4 v0x13930d420_0, 0, 8;
    %pushi/vec4 127, 0, 8;
    %store/vec4 v0x13930d4e0_0, 0, 8;
    %pushi/vec4 255, 0, 8;
    %store/vec4 v0x13930d980_0, 0, 8;
    %pushi/vec4 127, 0, 8;
    %store/vec4 v0x13930da90_0, 0, 8;
    %pushi/vec4 255, 0, 8;
    %store/vec4 v0x13930db40_0, 0, 8;
    %pushi/vec4 127, 0, 8;
    %store/vec4 v0x13930dbf0_0, 0, 8;
    %pushi/vec4 255, 0, 8;
    %store/vec4 v0x13930dca0_0, 0, 8;
    %pushi/vec4 127, 0, 8;
    %store/vec4 v0x13930dd50_0, 0, 8;
    %pushi/vec4 255, 0, 8;
    %store/vec4 v0x13930de00_0, 0, 8;
    %pushi/vec4 127, 0, 8;
    %store/vec4 v0x13930deb0_0, 0, 8;
    %pushi/vec4 255, 0, 8;
    %store/vec4 v0x13930d580_0, 0, 8;
    %pushi/vec4 127, 0, 8;
    %store/vec4 v0x13930d610_0, 0, 8;
    %pushi/vec4 255, 0, 8;
    %store/vec4 v0x13930d6a0_0, 0, 8;
    %pushi/vec4 3, 0, 8;
    %store/vec4 v0x13930d770_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d820_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d8d0_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_packet_inline, S_0x13930d240;
    %join;
    %fork TD_tb_arduino_spi_slave.wait_cdc, S_0x13930e280;
    %join;
    %pushi/str "Test 4.1a: Max positive Roll (32767)";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f870_0;
    %pushi/vec4 32767, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 4.1b: Max positive Pitch (32767)";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f900_0;
    %pushi/vec4 32767, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 4.1c: Max positive Yaw (32767)";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f990_0;
    %pushi/vec4 32767, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 4.1d: Max positive Gyro X (32767)";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930ec50_0;
    %pushi/vec4 32767, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/vec4 170, 0, 8;
    %store/vec4 v0x13930d420_0, 0, 8;
    %pushi/vec4 128, 0, 8;
    %store/vec4 v0x13930d4e0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d980_0, 0, 8;
    %pushi/vec4 128, 0, 8;
    %store/vec4 v0x13930da90_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930db40_0, 0, 8;
    %pushi/vec4 128, 0, 8;
    %store/vec4 v0x13930dbf0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dca0_0, 0, 8;
    %pushi/vec4 128, 0, 8;
    %store/vec4 v0x13930dd50_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930de00_0, 0, 8;
    %pushi/vec4 128, 0, 8;
    %store/vec4 v0x13930deb0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d580_0, 0, 8;
    %pushi/vec4 128, 0, 8;
    %store/vec4 v0x13930d610_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d6a0_0, 0, 8;
    %pushi/vec4 3, 0, 8;
    %store/vec4 v0x13930d770_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d820_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d8d0_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_packet_inline, S_0x13930d240;
    %join;
    %fork TD_tb_arduino_spi_slave.wait_cdc, S_0x13930e280;
    %join;
    %pushi/str "Test 4.2a: Max negative Roll (-32768)";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f870_0;
    %pushi/vec4 32768, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 4.2b: Max negative Pitch (-32768)";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f900_0;
    %pushi/vec4 32768, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 4.2c: Max negative Yaw (-32768)";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f990_0;
    %pushi/vec4 32768, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 4.2d: Max negative Gyro X (-32768)";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930ec50_0;
    %pushi/vec4 32768, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/vec4 170, 0, 8;
    %store/vec4 v0x13930d420_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d4e0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d980_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930da90_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930db40_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dbf0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dca0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dd50_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930de00_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930deb0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d580_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d610_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d6a0_0, 0, 8;
    %pushi/vec4 3, 0, 8;
    %store/vec4 v0x13930d770_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d820_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d8d0_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_packet_inline, S_0x13930d240;
    %join;
    %fork TD_tb_arduino_spi_slave.wait_cdc, S_0x13930e280;
    %join;
    %pushi/str "Test 4.3a: Zero Roll";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f870_0;
    %pushi/vec4 0, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 4.3b: Zero Pitch";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f900_0;
    %pushi/vec4 0, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 4.3c: Zero Yaw";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f990_0;
    %pushi/vec4 0, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/str "Test 4.3d: Zero Gyro X";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930ec50_0;
    %pushi/vec4 0, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %vpi_call/w 3 476 "$display", "\000" {0 0 0};
    %vpi_call/w 3 481 "$display", "=== Test 5: Multiple Packets ===" {0 0 0};
    %pushi/vec4 170, 0, 8;
    %store/vec4 v0x13930d420_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d4e0_0, 0, 8;
    %pushi/vec4 100, 0, 8;
    %store/vec4 v0x13930d980_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930da90_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930db40_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dbf0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dca0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dd50_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930de00_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930deb0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d580_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d610_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d6a0_0, 0, 8;
    %pushi/vec4 3, 0, 8;
    %store/vec4 v0x13930d770_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d820_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d8d0_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_packet_inline, S_0x13930d240;
    %join;
    %fork TD_tb_arduino_spi_slave.wait_cdc, S_0x13930e280;
    %join;
    %pushi/str "Test 5.1a: First packet Roll = 100";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f870_0;
    %pushi/vec4 100, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %pushi/vec4 170, 0, 8;
    %store/vec4 v0x13930d420_0, 0, 8;
    %pushi/vec4 1, 0, 8;
    %store/vec4 v0x13930d4e0_0, 0, 8;
    %pushi/vec4 244, 0, 8;
    %store/vec4 v0x13930d980_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930da90_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930db40_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dbf0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dca0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930dd50_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930de00_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930deb0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d580_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d610_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d6a0_0, 0, 8;
    %pushi/vec4 3, 0, 8;
    %store/vec4 v0x13930d770_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d820_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x13930d8d0_0, 0, 8;
    %fork TD_tb_arduino_spi_slave.send_packet_inline, S_0x13930d240;
    %join;
    %fork TD_tb_arduino_spi_slave.wait_cdc, S_0x13930e280;
    %join;
    %pushi/str "Test 5.1b: Second packet Roll = 500";
    %store/str v0x139120530_0;
    %load/vec4 v0x13930f870_0;
    %pushi/vec4 500, 0, 16;
    %cmp/e;
    %flag_get/vec4 4;
    %store/vec4 v0x139205fb0_0, 0, 1;
    %fork TD_tb_arduino_spi_slave.check_test, S_0x139205e40;
    %join;
    %vpi_call/w 3 516 "$display", "\000" {0 0 0};
    %vpi_call/w 3 521 "$display", "========================================" {0 0 0};
    %vpi_call/w 3 522 "$display", "Test Summary" {0 0 0};
    %vpi_call/w 3 523 "$display", "========================================" {0 0 0};
    %vpi_call/w 3 524 "$display", "Total Tests: %0d", v0x13930fde0_0 {0 0 0};
    %vpi_call/w 3 525 "$display", "Passed: %0d", v0x13930f5d0_0 {0 0 0};
    %vpi_call/w 3 526 "$display", "Failed: %0d", v0x13930eb30_0 {0 0 0};
    %vpi_call/w 3 527 "$display", "========================================" {0 0 0};
    %load/vec4 v0x13930eb30_0;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_18.12, 4;
    %vpi_call/w 3 530 "$display", "ALL TESTS PASSED" {0 0 0};
    %jmp T_18.13;
T_18.12 ;
    %vpi_call/w 3 532 "$display", "SOME TESTS FAILED" {0 0 0};
T_18.13 ;
    %vpi_call/w 3 534 "$display", "========================================" {0 0 0};
    %delay 3330000, 0;
    %vpi_call/w 3 537 "$finish" {0 0 0};
    %end;
    .thread T_18;
# The file index is used to find the file name in the following table.
:file_names 5;
    "N/A";
    "<interactive>";
    "-";
    "tb_arduino_spi_slave.sv";
    "/Users/emmettstralka/Desktop/E155_Final_SPI_Test/fpga/arduino_spi_slave.sv";
