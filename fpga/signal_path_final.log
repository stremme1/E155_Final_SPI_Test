[0] btn=1 btn_pulse=0 valid=0 code=0 done=x
[166000] btn=1 btn_pulse=0 valid=0 code=0 done=0
=== Signal Path Verification Test ===
Testing: Button -> Debouncer -> drum_trigger_valid -> SPI Slave -> done

=== Test 1: Button Press Triggers DONE ===
[366300000] Pressing button...
[366300000] btn=0 btn_pulse=0 valid=0 code=0 done=0
[400226000] btn=0 btn_pulse=1 valid=0 code=0 done=0
[400558000] btn=0 btn_pulse=0 valid=1 code=2 done=0
[401222000] btn=0 btn_pulse=0 valid=1 code=2 done=1
[532800000] btn=1 btn_pulse=0 valid=1 code=2 done=1
[699300000] Button released, checking signals...
  kick_btn_pulse: 0
  drum_trigger_valid: 1
  drum_code: 2
  done: 1
✅ drum_trigger_valid asserted correctly
✅ DONE signal asserted!

=== Test 2: SPI Read ===
[1032300000] Waiting for DONE signal...
[1032300000] DONE asserted! Starting SPI read...
[1033501000] Bit 7: sdo=0
[1034501000] Bit 6: sdo=0
[1035501000] Bit 5: sdo=0
[1036501000] Bit 4: sdo=0
[1037501000] Bit 3: sdo=0
[1038501000] Bit 2: sdo=0
[1039501000] Bit 1: sdo=0
[1040501000] Bit 0: sdo=0
[1040501000] Received: 0x00
❌ Wrong command: expected 0x02, got 0x00

==========================================
Test Results:
  Passed: 2
  Failed: 1
❌ Some signal path tests failed
==========================================
tb_signal_path_verification.sv:231: $finish called at 1380161000 (1ps)
